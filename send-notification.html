<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Send Notification â€“ Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans min-h-screen">

  <!-- Header -->
  <header class="bg-purple-600 text-white p-4 shadow flex justify-between items-center">
    <h1 class="text-xl font-bold">Send Notification</h1>
    <a href="admin.html" class="bg-white text-purple-600 px-3 py-1 rounded hover:bg-gray-100">Back to Dashboard</a>
  </header>

  <main class="max-w-3xl mx-auto p-6">

    <form id="notificationForm" class="bg-white shadow rounded-lg p-6 flex flex-col gap-4">
      <label class="flex flex-col text-gray-700">
        Select Users
        <select id="userSelect" class="mt-1 p-2 border rounded">
          <option value="all">All Users</option>
          <option value="sellers">Sellers</option>
          <option value="buyers">Buyers</option>
        </select>
      </label>

      <label class="flex flex-col text-gray-700">
        Notification Title
        <input type="text" id="title" class="mt-1 p-2 border rounded focus:ring-2 focus:ring-purple-500" placeholder="Enter title">
      </label>

      <label class="flex flex-col text-gray-700">
        Message
        <textarea id="message" class="mt-1 p-2 border rounded focus:ring-2 focus:ring-purple-500" placeholder="Enter your message"></textarea>
      </label>

      <div class="flex justify-between items-center">
        <button type="submit" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700">Send Notification</button>
        <div id="previewBox" class="bg-gray-100 px-4 py-2 rounded shadow text-gray-700 text-sm hidden"></div>
      </div>
    </form>
  </main>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded shadow-lg opacity-0 transition-opacity"></div>

  <script>
    const form = document.getElementById('notificationForm');
    const toast = document.getElementById('toast');
    const previewBox = document.getElementById('previewBox');
    const titleInput = document.getElementById('title');
    const messageInput = document.getElementById('message');
    const userSelect = document.getElementById('userSelect');

    // Show preview
    function updatePreview() {
      if(titleInput.value || messageInput.value) {
        previewBox.style.display = 'block';
        previewBox.textContent = `To: ${userSelect.value} | Title: ${titleInput.value} | Message: ${messageInput.value}`;
      } else {
        previewBox.style.display = 'none';
      }
    }

    titleInput.addEventListener('input', updatePreview);
    messageInput.addEventListener('input', updatePreview);
    userSelect.addEventListener('change', updatePreview);

    // Form submit
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const title = titleInput.value.trim();
      const message = messageInput.value.trim();
      if(!title || !message) {
        alert('Please fill all fields!');
        return;
      }
      showToast(`Notification sent to ${userSelect.value}`);
      form.reset();
      previewBox.style.display = 'none';
    });

    // Toast function
    function showToast(message) {
      toast.textContent = message;
      toast.style.opacity = 1;
      setTimeout(() => { toast.style.opacity = 0; }, 2000);
    }
  </script>
</body>
</html>
